!***> Remove created data
!| RecordEndpointFixture |
| authToken|type | id | testDeleteRecord? | getStatusType? |
| $adminAuthToken | fitnesseRecordTypeWithVisibility | $commonUnpublishedRecordId |||
| $adminAuthToken | fitnesseRecordTypeWithVisibility | $commonPublishedRecordId |||
| $adminAuthToken | fitnesseRecordTypeWithVisibility | $commonHiddenRecordId |||
| $adminAuthToken | validationType | fitnesseValidationTypeForRecordTypeWithVisibility || OK |
| $adminAuthToken | search | fitnesseRecordTypeWithVisibilitySearch || OK |
| $adminAuthToken | recordType | fitnesseRecordTypeWithVisibility || OK |
| $adminAuthToken | presentation | fitnesseGroupWithRecordInfoVisibilityPGroup || OK |
| $adminAuthToken | presentation | fitnesseGroupWithRecordInfoVisibilityOutputPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordTypeWithVisibilityMenuPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordTypeWithVisibilityListPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordTypeWithVisibilityAutocompletePGroup || OK |
| $adminAuthToken | presentation | fitnesseGroupWithRecordInfoVisibilityNewPGroup || OK |
| $adminAuthToken | presentation | fitnesseGroupWithRecordInfoVisibilityNewOutputPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordInfoWithVisibilityOutputPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordInfoWithVisibilityPGroup || OK |
| $adminAuthToken | metadata | fitnesseGroupWithRecordInfoVisibilityNewGroup || OK |
| $adminAuthToken | metadata | fitnesseGroupWithRecordInfoVisibilityGroup || OK |
| $adminAuthToken | metadata | fitnesseRecordInfoWithVisibilityGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordInfoWithVisibilityNewPGroup || OK |
| $adminAuthToken | presentation | fitnesseRecordInfoWithVisibilityNewOutputPGroup || OK |
| $adminAuthToken | metadata | fitnesseRecordInfoWithVisibilityNewGroup || OK |
| $adminAuthToken | text | fitnesseGroupWithRecordInfoVisibilityNewGroupDefText || OK |
| $adminAuthToken | text | fitnesseGroupWithRecordInfoVisibilityNewGroupText || OK |
| $adminAuthToken | text | fitnesseGroupWithRecordInfoVisibilityGroupDefText || OK |
| $adminAuthToken | text | fitnesseGroupWithRecordInfoVisibilityGroupText || OK |
| $adminAuthToken | text | fitnesseRecordTypeWithVisibilityDefText || OK |
| $adminAuthToken | text | fitnesseRecordTypeWithVisibilityText || OK |
| $adminAuthToken | text | fitnesseValidationTypeForRecordTypeWithVisibilityDefText || OK |
| $adminAuthToken | text | fitnesseValidationTypeForRecordTypeWithVisibilityText || OK |
| $adminAuthToken | text | fitnesseRecordTypeWithVisibilitySearchDefText || OK |
| $adminAuthToken | text | fitnesseRecordTypeWithVisibilitySearchText || OK |
*!

!***> Remove visibility role from user
!define adminWithoutVisibilityRole {!-{"name":"user","children":[{"name":"recordInfo","children":[{"name":"ignoreOverwriteProtection","value":"true"},{"name":"id","value":"131313"},{"name":"type","children":[{"name":"linkedRecordType","value":"recordType"},{"name":"linkedRecordId","value":"user"}]},{"name":"validationType","children":[{"name":"linkedRecordType","value":"validationType"},{"name":"linkedRecordId","value":"systemOneUser"}]},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]},{"name":"createdBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"12345"}]},{"name":"tsCreated","value":"2017-10-01T00:00:00.000000Z"},{"name":"updated","repeatId":"0","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-03-05T13:02:50.190846Z"}]},{"name":"updated","repeatId":"1","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-03-05T13:02:50.845273Z"}]},{"name":"updated","repeatId":"2","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T12:33:27.013184Z"}]},{"name":"updated","repeatId":"3","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T12:33:27.782490Z"}]},{"name":"updated","repeatId":"4","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:36:15.988605Z"}]},{"name":"updated","repeatId":"5","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:36:17.511990Z"}]},{"name":"updated","repeatId":"6","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:37:21.158624Z"}]},{"name":"updated","repeatId":"7","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:37:22.688171Z"}]},{"name":"updated","repeatId":"8","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:38:56.438858Z"}]},{"name":"updated","repeatId":"9","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:39:21.727333Z"}]},{"name":"updated","repeatId":"10","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:50:49.064821Z"}]},{"name":"updated","repeatId":"11","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-04-21T13:50:49.772284Z"}]},{"name":"updated","repeatId":"12","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-10-27T13:34:09.904296Z"}]},{"name":"updated","repeatId":"13","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-10-27T13:34:31.497951Z"}]},{"name":"updated","repeatId":"14","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-10-27T13:49:47.969693Z"}]},{"name":"updated","repeatId":"15","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2020-10-27T13:49:48.683472Z"}]},{"name":"updated","repeatId":"16","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2023-03-02T15:29:13.431415Z"}]},{"name":"updated","repeatId":"17","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2023-09-21T12:41:59.180181Z"}]},{"name":"updated","repeatId":"18","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-02-01T15:42:52.046538Z"}]},{"name":"updated","repeatId":"19","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-05-22T09:49:00.788233Z"}]},{"name":"updated","repeatId":"20","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-08-13T08:18:55.711099Z"}]},{"name":"updated","repeatId":"21","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-08-14T07:46:47.492222Z"}]},{"name":"updated","repeatId":"22","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-10-16T08:45:26.369247Z"}]},{"name":"updated","repeatId":"23","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2024-10-16T12:40:57.252892Z"}]},{"name":"updated","repeatId":"24","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"141414"}]},{"name":"tsUpdated","value":"2025-04-03T18:01:25.914887Z"}]},{"name":"updated","repeatId":"25","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2025-04-11T06:52:45.098827Z"}]},{"name":"updated","repeatId":"26","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2025-04-11T06:54:44.391353Z"}]}]},{"name":"loginId","value":"fitnesseAdmin@system.cora.uu.se"},{"name":"userFirstname","value":"Fitnesse"},{"name":"userLastname","value":"Admin"},{"name":"userRole","repeatId":"1","children":[{"name":"userRole","children":[{"name":"linkedRecordType","value":"permissionRole"},{"name":"linkedRecordId","value":"everything"}]},{"name":"permissionTermRulePart","repeatId":"0","children":[{"name":"rule","children":[{"name":"linkedRecordType","value":"collectTerm"},{"name":"linkedRecordId","value":"systemPermissionTerm"}]},{"name":"value","repeatId":"0","value":"system.*"}]}]},{"name":"userRole","repeatId":"3603423986673","children":[{"name":"userRole","children":[{"name":"linkedRecordType","value":"permissionRole"},{"name":"linkedRecordId","value":"binaryUserRole"}]}]},{"name":"activeStatus","value":"active"},{"name":"appTokens","children":[{"name":"appToken","repeatId":"0","children":[{"name":"appTokenLink","children":[{"name":"linkedRecordType","value":"systemSecret"},{"name":"linkedRecordId","value":"systemSecret:3452556002950361"}]},{"name":"appTokenNote","value":"Tokenfordevelopment"}]}]},{"name":"usePassword","value":"false"},{"name":"tsPasswordUpdated","value":""}],"attributes":{"type":"systemOneUser"}}-!}
!| RecordEndpointFixture |
| authToken | type | id | json | testUpdateRecord? | getStatusType? |
| $adminAuthToken | user | 131313 | ${adminWithoutVisibilityRole} | | OK |

!define userWithoutVisibilityRole {!-{"name":"user","children":[{"name":"recordInfo","children":[{"name":"ignoreOverwriteProtection","value":"true"},{"name":"id","value":"121212"},{"name":"type","children":[{"name":"linkedRecordType","value":"recordType"},{"name":"linkedRecordId","value":"user"}]},{"name":"validationType","children":[{"name":"linkedRecordType","value":"validationType"},{"name":"linkedRecordId","value":"systemOneUser"}]},{"name":"dataDivider","children":[{"name":"linkedRecordType","value":"system"},{"name":"linkedRecordId","value":"cora"}]},{"name":"createdBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsCreated","value":"2017-10-01T00:00:00.000000Z"},{"name":"updated","repeatId":"0","children":[{"name":"updatedBy","children":[{"name":"linkedRecordType","value":"user"},{"name":"linkedRecordId","value":"131313"}]},{"name":"tsUpdated","value":"2025-04-10T06:55:00.350462Z"}]}]},{"name":"loginId","value":"fitnesseUser@system.cora.uu.se"},{"name":"userFirstname","value":"Fitnesse"},{"name":"userLastname","value":"User"},{"name":"userRole","repeatId":"7175775086411621","children":[{"name":"userRole","children":[{"name":"linkedRecordType","value":"permissionRole"},{"name":"linkedRecordId","value":"fitnesseTextAdmin"}]},{"name":"permissionTermRulePart","repeatId":"0","children":[{"name":"rule","children":[{"name":"linkedRecordType","value":"collectTerm"},{"name":"linkedRecordId","value":"systemPermissionTerm"}]},{"name":"value","repeatId":"0","value":"system.*"}]}]},{"name":"activeStatus","value":"active"},{"name":"appTokens","children":[{"name":"appToken","repeatId":"0","children":[{"name":"appTokenLink","children":[{"name":"linkedRecordType","value":"systemSecret"},{"name":"linkedRecordId","value":"systemSecret:3452520491234582"}]},{"name":"appTokenNote","value":"Tokenfordevelopment"}]}]},{"name":"usePassword","value":"false"},{"name":"tsPasswordUpdated","value":""}],"attributes":{"type":"systemOneUser"}}-!}
!| RecordEndpointFixture |
| authToken | type | id | json | testUpdateRecord? | getStatusType? |
| $adminAuthToken | user | 121212 | ${userWithoutVisibilityRole} | | OK |
*!

!***> Delete obsolete rules and roles
!| RecordEndpointFixture |
| authToken|type | id | testDeleteRecord? | getStatusType? |
| $adminAuthToken | permissionRole | fitnesseUserVisibilityRole || OK |
| $adminAuthToken | permissionRule | fitnesseUserVisibilityRule || OK |
| $adminAuthToken | text | fitnesseUserVisibilityRuleDefText || OK |
| $adminAuthToken | text | fitnesseUserVisibilityRuleText || OK |
| $adminAuthToken | permissionRole | fitnesseAdminVisibilityRole || OK |
| $adminAuthToken | permissionRule | fitnesseAdminVisibilityRule || OK |

*!