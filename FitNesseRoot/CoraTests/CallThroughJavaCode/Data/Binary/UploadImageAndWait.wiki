---
Static
---
!*< definition
!define recordType {binary}
!define expectedAnswer {}
!define expectedCreateResult {CREATED}
*!
!***> Create record, for recordType ${recordType}

!| ChildComparerFixture |
| authToken | type | json | testCreateAndStoreRecord? | getStatusType? | getCreatedId? |
| ${currentAuthToken} | ${recordType} | ${createData} | ${expectedAnswer} | ${expectedCreateResult} | $tmpRecordId1= |


!define recordId {$tmpRecordId1}
*!
!***> Upload image

!| RecordEndpointFixture |
| authToken | type | id | fileName | testUpload? | getStatusType? |
| $adminAuthToken | binary | $tmpRecordId1 | ${originalFileName} | | OK |

*!
!***> Wait and validate record has been updated using image analyzer and converted to the different representations

TODO: ResourceLink cannot be validated. Change CompareFixture in order to be able to validate it.

!| WaitForRegExReadResultFixture |
| authToken | recordType | recordId | sleepTime | maxNumberOfCalls | regEx | waitUntilUntilRegExpFoundInReadRecord? |
| $adminAuthToken | binary | $tmpRecordId1 | 500 | 50 | \"name\":\"jp2\" | Found |
*!