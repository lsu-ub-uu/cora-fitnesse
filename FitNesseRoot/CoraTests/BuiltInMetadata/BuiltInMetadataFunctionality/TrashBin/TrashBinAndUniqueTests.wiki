---
Static
---
We expecet that unique works normally. We create record C and the another record with same value, and we get unique conflict. Then we move record C into trash and we try to create a new record with the same value, here we expecet to be able to create the record, since record C is in trash bin. 
!***> Case 8
Create record C
!define currentAuthToken {$userAuthToken}
!define recordType {fitnesseRecordType}
!define fitnesseTrashBinValue {false}
!define createData {${fitnessePermissionTermCreateRecordWithTrashBin}}
!define expectedCreateResult {CREATED}
!define expectedAnswer {}
!include -seamless .HelperPages.createRecord

!***> Prepare following tests: Store id from record C 
!| script | StringSupport |
|note|store value from record created on case3|
|$recordCId=|getValueFromVariable;|${recordId}|
*!

We create new record with same vaule than record C, we should get CONFLICT
!define currentAuthToken {$userAuthToken}
!define recordType {fitnesseRecordType}
!define fitnesseTrashBinValue {false}
!define createData {${fitnessePermissionTermCreateRecordWithTrashBin}}
!define expectedCreateResult {CONFLICT}
!define expectedAnswer {The record could not be created as it fails unique validation with the following 1 error messages: [A record matching the unique rule with [key: fitnesseTextVar, value: someValue] already exists in the system]}
!include -seamless .HelperPages.createRecord

We move record C to '''in trash bin'''
!define currentAuthToken {$userAuthToken}
!define recordType {fitnesseRecordType}
!define fitnesseTrashBinValue {true}
!define updateData {${fitnessePermissionTermUpdateRecordWithTrashBin}}
!define recordId {$recordCId}
!define expectedUpdateResult {OK}
!define expectedAnswer {}
!include -seamless .HelperPages.updateRecord

We create new record with same vaule than record C, we should be able to create the record now.
!define currentAuthToken {$userAuthToken}
!define recordType {fitnesseRecordType}
!define fitnesseTrashBinValue {false}
!define createData {${fitnessePermissionTermCreateRecordWithTrashBin}}
!define expectedCreateResult {CREATED}
!define expectedAnswer {}
!include -seamless .HelperPages.createRecord
*!

!***> CleanUp

!| DeleteRecord |
| recordType            | recordId           | deleteRecord? |
| fitnesseRecordType    | $recordCId         | OK            |
| fitnesseRecordType    | $createdRecordId   | OK            |

!| RememberRecordState |
| type       | id                         | version  | memoryToStorage? |
| recordType | fitnesseRecordType         | original | OK               |
*!