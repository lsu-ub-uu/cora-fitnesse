---
Static
---
!3 Definition for Record type
!*< Setup record type definition
!define collectTermGroupDefinition {!-collectTerm type:{index, permission, storage} (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		type (recordLink, 1-1, noConstraint)
		validationType (recordLink, 1-1, noConstraint)
		dataDivider (recordLink, 1-1, noConstraint, P, I)
		createdBy (recordLink, 1-1, noConstraint)
		permissionUnit (recordLink, 0-X, noConstraint)
		tsCreated (textVariable, 1-1, noConstraint)
		updated (group, 1-X, noConstraint)
			updatedBy (recordLink, 1-1, noConstraint)
			tsUpdated (textVariable, 1-1, noConstraint)
	nameInData (textVariable, 0-1, noConstraint)
	extraData (group, 1-1, noConstraint)
		indexFieldName (textVariable, 0-1, noConstraint)
		indexType (collectionVariable, 0-1, noConstraint)
		permissionKey (textVariable, 0-1, noConstraint)
		mode (collectionVariable, 0-1, noConstraint)
		storageKey (textVariable, 0-1, noConstraint)-!}
		
!define collectPermissionTermNewGroupDefinition {!-collectPermissionTerm type:{permission} (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		validationType (recordLink, 1-1, noConstraint)
		dataDivider (recordLink, 1-1, noConstraint, P)
	nameInData (textVariable, 1-1, noConstraint)
	extraData (group, 1-1, noConstraint)
		permissionKey (textVariable, 1-1, noConstraint)
		mode (collectionVariable, 0-1, noConstraint)-!}
		
!define collectPermissionTermGroupDefinition {!-collectPermissionTerm type:{permission} (group)
	recordInfo (group, 1-1, noConstraint)
		id (textVariable, 1-1, noConstraint, I)
		type (recordLink, 1-1, noConstraint)
		validationType (recordLink, 1-1, noConstraint)
		dataDivider (recordLink, 1-1, noConstraint, P, I)
		createdBy (recordLink, 1-1, noConstraint)
		permissionUnit (recordLink, 0-X, noConstraint)
		tsCreated (textVariable, 1-1, noConstraint)
		updated (group, 1-X, noConstraint)
			updatedBy (recordLink, 1-1, noConstraint)
			tsUpdated (textVariable, 1-1, noConstraint)
	nameInData (textVariable, 1-1, noConstraint)
	extraData (group, 1-1, noConstraint)
		permissionKey (textVariable, 1-1, noConstraint)
		mode (collectionVariable, 0-1, noConstraint)-!}
*!
{{{
${collectTermGroupDefinition}
}}}
!***> '''Validate record type collectTerm'''
!***> Validate record type exists
!| RecordEndpointFixture |
| authToken | type | id | testReadRecordAndStoreJson? | getStatusType? |
| $adminAuthToken | recordType | collectTerm | | OK |
*!
!***> Validate the definition of metadata
!| DefinitionCompareFixture |
| authToken | recordId | getDefinitionView? |
| $adminAuthToken | collectTermGroup | ${collectTermGroupDefinition} |
*!
*!

!2 Collect permission term

| create | update |
| "${collectPermissionTermNewGroupDefinition}" | "${collectPermissionTermGroupDefinition}" |

| {{{ ${collectPermissionTermNewGroupDefinition} }}} | {{{ ${collectPermissionTermGroupDefinition} }}} |
!***> '''Validate validation type collectPermissionTerm'''
!***> Validate validaton type exists
!| RecordEndpointFixture |
| authToken | type | id | testReadRecordAndStoreJson? | getStatusType? |
| $adminAuthToken | validationType | collectPermissionTerm | | OK |
*!
!***> Validate the definition of metadata
!| DefinitionCompareFixture |
| authToken | recordId | getDefinitionView? |
| $adminAuthToken | collectPermissionTermNewGroup | ${collectPermissionTermNewGroupDefinition} |
| $adminAuthToken | collectPermissionTermGroup | ${collectPermissionTermGroupDefinition} |
*!
*!

!2 Collect index term
| {{{ ${collectIndexTermNewGroupDefinition} }}} | {{{ ${collectIndexTermGroupDefinition} }}} |
!***> '''Validate validation type collectIndexTerm'''
!***> Validate validaton type exists
!| RecordEndpointFixture |
| authToken | type | id | testReadRecordAndStoreJson? | getStatusType? |
| $adminAuthToken | validationType | collectIndexTerm | | OK |
*!
!***> Validate the definition of metadata
!| DefinitionCompareFixture |
| authToken | recordId | getDefinitionView? |
| $adminAuthToken | collectIndexTermNewGroup | ${collectPermissionTermNewGroupDefinition} |
| $adminAuthToken | collectIndexTermGroup | ${collectPermissionTermGroupDefinition} |
*!
*!

!2 Collect storage term
| {{{ ${collectStorageTermNewGroupDefinition} }}} | {{{ ${collectStorageTermGroupDefinition} }}} |
!***> '''Validate validation type collectStorageTerm'''
!***> Validate validaton type exists
!| RecordEndpointFixture |
| authToken | type | id | testReadRecordAndStoreJson? | getStatusType? |
| $adminAuthToken | validationType | collectStorageTerm | | OK |
*!
!***> Validate the definition of metadata
!| DefinitionCompareFixture |
| authToken | recordId | getDefinitionView? |
| $adminAuthToken | collectStorageTermNewGroup | ${collectPermissionTermNewGroupDefinition} |
| $adminAuthToken | collectStorageTermGroup | ${collectPermissionTermGroupDefinition} |
*!
*!

