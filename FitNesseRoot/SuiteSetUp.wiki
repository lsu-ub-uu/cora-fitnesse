---
Suite
---
!***> Set up system and log in
| import |
| se.uu.ub.cora.fitnesseintegration |
| se.uu.ub.cora.fitnesseintegration.apptoken.script |
| se.uu.ub.cora.fitnesseintegration.authtoken.fixture |
| se.uu.ub.cora.fitnesseintegration.file |
| se.uu.ub.cora.fitnesseintegration.fixture |
| se.uu.ub.cora.fitnesseintegration.compare |
| se.uu.ub.cora.fitnesseintegration.script |
| se.uu.ub.cora.fitnesseintegration.waiter.fixture |
| se.uu.ub.cora.fitnesseintegration.server.compare.fixtures |
| se.uu.ub.cora.fitnesseintegration.binary |
| se.uu.ub.cora.fitnesseintegration.definitionwriter |
| se.uu.ub.cora.fitnesseintegration.authentication |

!| script | LoginToken |
| setFitnesseAdminLoginId | ${fitnesseAdminLoginId} |
| setFitnesseAdminAppToken | ${fitnesseAdminAppToken} |
| setFitnesseUserLoginId | ${fitnesseUserLoginId} |
| setFitnesseUserAppToken | ${fitnesseUserAppToken} |

!| script | SystemUrl |
| setUrl | ${systemUnderTestUrl} |
| setAppTokenVerifierUrl | ${appTokenVerifierUrl} |
| setIdpLoginUrl | ${idpLoginUrl} |
| setGatekeeperServerUrl | ${gatekeeperServerUrl} |

!| script | DependencyProvider |
| setHttpHandlerFactoryClassName | se.uu.ub.cora.httphandler.HttpHandlerFactoryImp |
| setChildComparerUsingClassName | se.uu.ub.cora.fitnesseintegration.ChildComparerImp |

!define TEST_SYSTEM {slim}

!***> Login for fitnesse admin, user and guest
!| AuthenticationFixture |
|  EPPN                           | idpLogin? | getStatusType? |getAuthToken?     | getRenewUrl?    |
| fitnesseAdmin@system.cora.uu.se |           | OK             | $adminAuthToken= | $adminRenewUrl= |
| fitnesseUser@system.cora.uu.se  |           | OK             | $userAuthToken=  | $userRenewUrl=  |
| userNotInDb@user.uu.se          |           | OK             | $guestAuthToken= | $guestRenewUrl= |

!| script | AuthTokenHolder |
| setAdminAuthToken | $adminAuthToken |
| setUserAuthToken  | $userAuthToken  |
*!
*!
